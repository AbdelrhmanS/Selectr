/*!
 * Selectr 2.2.4
 * http://mobius.ovh/docs/selectr
 *
 * Released under the MIT license
 */
(function(l,m){var n="Selectr";"function"==typeof define&&define.amd?define([],m(n)):"object"==typeof exports?module.exports=m(n):l[n]=m(n)})(this,function(){"use strict";var m={width:"auto",disabled:!1,searchable:!0,clearable:!1,sortSelected:!1,allowDeselect:!1,closeOnScroll:!1,nativeDropdown:!1,placeholder:"Select an option...",taggable:!1,tagPlaceholder:"Enter a tag..."},n=function(){};n.prototype={on:function(S,T){this._events=this._events||{},this._events[S]=this._events[S]||[],this._events[S].push(T)},off:function(S,T){this._events=this._events||{},!1==S in this._events||this._events[S].splice(this._events[S].indexOf(T),1)},emit:function(S){if(this._events=this._events||{},!1!=S in this._events)for(var T=0;T<this._events[S].length;T++)this._events[S][T].apply(this,Array.prototype.slice.call(arguments,1))}},n.mixin=function(S){for(var T=["on","off","emit"],U=0;U<T.length;U++)"function"==typeof S?S.prototype[T[U]]=n.prototype[T[U]]:S[T[U]]=n.prototype[T[U]];return S};var q={extend:function(S,T){T=T||{};for(var U in S)S.hasOwnProperty(U)&&(T.hasOwnProperty(U)||(T[U]=S[U]));return T},each:function(S,T,U){if("[object Object]"===Object.prototype.toString.call(S))for(var V in S)Object.prototype.hasOwnProperty.call(S,V)&&T.call(U,V,S[V],S);else for(var W=0,X=S.length;W<X;W++)T.call(U,W,S[W],S)},querySelect:function(S){var T=!1;if(S&&"string"==typeof S){var U=document,V=S.charAt(0);T="."===V?U.getElementsByClassName(S.substr(1))[0]:"#"===V?U.getElementById(S.substr(1)):U.getElementsByTagName(S)[0]}return T},createElement:function(S,T){var U=document,V=U.createElement(S);if(T&&q.isObject(T)){for(var W in T)if(W in V)V[W]=T[W];else if("html"===W)V.innerHTML=T[W];else if("text"===W){var X=U.createTextNode(T[W]);V.appendChild(X)}else V.setAttribute(W,T[W])}return V},hasClass:function(S,T){if(S)return S.classList?S.classList.contains(T):!!S.className&&!!S.className.match(new RegExp("(\\s|^)"+T+"(\\s|$)"))},addClass:function(S,T){q.hasClass(S,T)||(S.classList?S.classList.add(T):S.className=S.className.trim()+" "+T)},removeClass:function(S,T){q.hasClass(S,T)&&(S.classList?S.classList.remove(T):S.className=S.className.replace(new RegExp("(^|\\s)"+T.split(" ").join("|")+"(\\s|$)","gi")," "))},closest:function(S,T){return S&&S!==document.body&&(T(S)?S:q.closest(S.parentNode,T))},on:function(S,T,U,V){S.addEventListener(T,function(W){V=V||this,U.call(V,W)},!1)},off:function(S,T,U){S.removeEventListener(T,U)},isObject:function(S){return"[object Object]"===Object.prototype.toString.call(S)},isArray:function(S){return"[object Array]"===Object.prototype.toString.call(S)},isInt:function(S){return"number"==typeof S&&isFinite(S)&&Math.floor(S)===S},debounce:function(S,T,U){var V;return function(){var W=this,X=arguments,Z=U&&!V;clearTimeout(V),V=setTimeout(function(){V=null,U||S.apply(W,X)},T),Z&&S.apply(W,X)}},getRect:function(S,T){var U=window,V=S.getBoundingClientRect(),W=T?U.pageXOffset:0,X=T?U.pageYOffset:0;return{bottom:V.bottom+X,height:V.height,left:V.left+W,right:V.right+W,top:V.top+X,width:V.width}},preventDefault:function(S){if(S=S||window.event,S.preventDefault)return S.preventDefault()},includes:function(S,T){return-1<S.indexOf(T)}},s=function(S,T){return S.hasOwnProperty(T)&&(!0===S[T]||S[T].length)},u=function(S){return S.hasOwnProperty("selected")&&!0===S.selected},z=function(){this.el.multiple||(this.config.data&&0>this.el.selectedIndex&&K.call(this,this.items[0]),-1<this.el.selectedIndex&&K.call(this,this.items[this.el.selectedIndex])),this.config.selectedValue&&this.setValue(this.config.selectedValue),this.config.data&&q.each(this.config.data,function(T,U){q.each(this.options,function(V,W){W.value===U.value&&u(U)&&K.call(this,this.items[W.idx])},this)},this)},A=function(){var S=q.getRect(this.selected),T=this.tree.parentNode.offsetHeight,U=window.innerHeight,V=S.top+S.height+T>U;V?(q.addClass(this.container,"inverted"),this.isInverted=!0):(q.removeClass(this.container,"inverted"),this.isInverted=!1),this.optsRect=q.getRect(this.tree)},B=function(S,T,U){S.parentNode?!S.parentNode.parentNode&&T.appendChild(S.parentNode):T.appendChild(S),q.removeClass(S,"excluded"),U||(S.innerHTML=S.textContent)},C=function(){if(this.items.length){var S=document.createDocumentFragment();if(this.config.pagination){var T=this.pages.slice(0,this.pageIndex);q.each(T,function(U,V){q.each(V,function(W,X){B(X,S,this.customOption)},this)},this)}else q.each(this.items,function(U,V){B(V,S,this.customOption)},this);S.childElementCount&&(q.removeClass(this.items[this.navIndex],"active"),this.navIndex=S.firstElementChild.idx,q.addClass(S.firstElementChild,"active")),this.tree.appendChild(S)}},D=function(){for(;this.tree.firstChild;)this.tree.removeChild(this.tree.firstChild)},E=function(S){var T=S.target;!this.container.contains(T)&&(this.opened||q.hasClass(this.container,"notice"))&&this.close()},F=function(){this.requiresPagination=this.config.pagination&&0<this.config.pagination,s(this.config,"width")&&(q.isInt(this.config.width)?this.width=this.config.width+"px":"auto"===this.config.width?this.width="100%":q.includes(this.config.width,"%")&&(this.width=this.config.width)),this.container=q.createElement("div",{class:"selectr-container"}),this.config.customClass&&q.addClass(this.container,this.config.customClass),this.mobileDevice?q.addClass(this.container,"selectr-mobile"):q.addClass(this.container,"selectr-desktop"),this.el.tabIndex=-1,this.config.nativeDropdown||this.mobileDevice?q.addClass(this.el,"selectr-visible"):q.addClass(this.el,"selectr-hidden"),this.selected=q.createElement("div",{class:"selectr-selected",disabled:this.disabled,tabIndex:1,"aria-expanded":!1}),this.label=q.createElement(this.el.multiple?"ul":"span",{class:"selectr-label"});var S=q.createElement("div",{class:"selectr-options-container"});if(this.tree=q.createElement("ul",{class:"selectr-options",role:"tree","aria-hidden":!0,"aria-expanded":!1}),this.notice=q.createElement("div",{class:"selectr-notice"}),this.el.setAttribute("aria-hidden",!0),this.disabled&&(this.el.disabled=!0),this.el.multiple&&(q.addClass(this.label,"selectr-tags"),q.addClass(this.container,"multiple"),this.tags=[],this.selectedValues=[],this.selectedIndexes=[]),this.selected.appendChild(this.label),(this.el.multiple&&this.config.clearable||!this.el.multiple&&this.config.allowDeselect)&&(this.selectClear=q.createElement("button",{class:"selectr-clear",type:"button"}),this.container.appendChild(this.selectClear),q.addClass(this.container,"clearable")),this.config.taggable){var T=q.createElement("li",{class:"input-tag"});this.input=q.createElement("input",{class:"selectr-tag-input",placeholder:this.config.tagPlaceholder,tagIndex:0,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),T.appendChild(this.input),this.label.appendChild(T),q.addClass(this.container,"taggable"),this.tagSeperators=[","],this.config.tagSeperators&&(this.tagSeperators=this.tagSeperators.concat(this.config.tagSeperators))}this.config.searchable&&(this.input=q.createElement("input",{class:"selectr-input",tagIndex:-1,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),this.inputClear=q.createElement("button",{class:"selectr-input-clear",type:"button"}),this.inputContainer=q.createElement("div",{class:"selectr-input-container"}),this.inputContainer.appendChild(this.input),this.inputContainer.appendChild(this.inputClear),S.appendChild(this.inputContainer)),S.appendChild(this.notice),S.appendChild(this.tree),this.items=[],this.options=[],this.el.options.length&&(this.options=[].slice.call(this.el.options));var U=!1,V=0;if(this.el.children.length&&q.each(this.el.children,function($,aa){"OPTGROUP"===aa.nodeName?(U=q.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+aa.label+"</li>"}),q.each(aa.children,function(ba,ca){ca.idx=V,U.appendChild(H.call(this,ca,U)),V++},this)):(aa.idx=V,H.call(this,aa),V++)},this),this.config.data&&q.isArray(this.config.data)){this.data=[];var X,W=!1;U=!1,V=0,q.each(this.config.data,function($,aa){s(aa,"children")?(W=q.createElement("optgroup",{label:aa.text}),U=q.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+aa.text+"</li>"}),q.each(aa.children,function(ba,ca){X=new Option(ca.text,ca.value,!1,u(ca)),X.disabled=s(ca,"disabled"),this.options.push(X),W.appendChild(X),X.idx=V,U.appendChild(H.call(this,X,ca)),this.data[V]=ca,V++},this)):(X=new Option(aa.text,aa.value,!1,u(aa)),X.disabled=s(aa,"disabled"),this.options.push(X),X.idx=V,H.call(this,X,aa),this.data[V]=aa,V++)},this)}z.call(this,!0);var Y;this.navIndex=0;for(var Z=0;Z<this.items.length;Z++)if(Y=this.items[Z],!q.hasClass(Y,"disabled")){q.addClass(Y,"active"),this.navIndex=Z;break}this.requiresPagination&&(this.pageIndex=1,this.paginate()),this.container.appendChild(this.selected),this.container.appendChild(S),this.placeEl=q.createElement("div",{class:"selectr-placeholder"}),this.setPlaceholder(),this.selected.appendChild(this.placeEl),this.disabled&&this.disable(),this.el.parentNode.insertBefore(this.container,this.el),this.container.appendChild(this.el),G.call(this)},G=function(){var S=this;this.events={},this.events.dismiss=E.bind(this),this.events.navigate=I.bind(this),this.events.reset=this.reset.bind(this),(this.config.nativeDropdown||this.mobileDevice)&&(q.on(this.container,"touchstart",function(T){T.changedTouches[0].target===this.el&&this.toggle()},this),(this.config.nativeDropdown||this.mobileDevice)&&q.on(this.container,"click",function(T){T.target===this.el&&this.toggle()},this),q.on(this.el,"change",function(){if(this.el.multiple){var U=this.el.querySelectorAll("option:checked"),V=[].slice.call(U).map(function(W){return W.idx});this.clear(),q.each(V,function(W,X){K.call(this,this.items[X])},this)}else-1<this.el.selectedIndex&&K.call(this,this.items[this.el.selectedIndex])},this)),this.config.nativeDropdown&&q.on(this.container,"keydown",function(T){"Enter"===T.key&&this.selected===document.activeElement&&(this.toggle(),setTimeout(function(){S.el.focus()},200))},this),q.on(this.selected,"click",function(T){this.disabled||this.toggle(),q.preventDefault(T)},this),q.on(this.label,"click",function(T){q.hasClass(T.target,"selectr-tag-remove")&&L.call(this,this.items[T.target.parentNode.idx])},this),this.selectClear&&q.on(this.selectClear,"click",this.clear.bind(this)),q.on(this.tree,"mousedown",function(T){q.preventDefault(T)}),q.on(this.tree,"click",function(T){var U=q.closest(T.target,function(V){return V&&q.hasClass(V,"selectr-option")});U&&!q.hasClass(U,"disabled")&&(q.hasClass(U,"selected")?L.call(this,U):K.call(this,U),this.opened&&!this.el.multiple&&this.close())},this),q.on(this.tree,"mouseover",function(T){q.hasClass(T.target,"selectr-option")&&!q.hasClass(T.target,"disabled")&&(q.removeClass(this.items[this.navIndex],"active"),q.addClass(T.target,"active"),this.navIndex=[].slice.call(this.items).indexOf(T.target))},this),this.config.searchable&&(q.on(this.input,"focus",function(){this.searching=!0},this),q.on(this.input,"blur",function(){this.searching=!1},this),q.on(this.input,"keyup",function(){this.search(),this.config.taggable||(this.input.value.length?q.addClass(this.input.parentNode,"active"):q.removeClass(this.input.parentNode,"active"))},this),q.on(this.inputClear,"click",function(){this.input.value=null,P.call(this),this.tree.childElementCount||C.call(this)},this)),this.config.taggable&&q.on(this.input,"keyup",function(T){if(this.search(),this.config.taggable&&this.input.value.length){var U=this.input.value.trim();if(13===T.which||q.includes(this.tagSeperators,T.key)){q.each(this.tagSeperators,function(W,X){U=U.replace(X,"")});var V=this.addOption({value:U,text:U,selected:!0},!0);V?(this.close(),P.call(this)):(this.input.value="",this.setMessage("That tag is already in use."))}}},this),this.update=q.debounce(function(){S.opened&&S.config.closeOnScroll&&S.close(),S.width&&(S.container.style.width=S.width),A.call(S)},50),this.requiresPagination&&(this.paginateItems=q.debounce(function(){O.call(this)},50),q.on(this.tree,"scroll",this.paginateItems.bind(this))),q.on(document,"click",this.events.dismiss),q.on(window,"keydown",this.events.navigate),q.on(window,"resize",this.update),q.on(window,"scroll",this.update),this.el.form&&q.on(this.el.form,"reset",this.events.reset)},H=function(S,T){T=T||S;var U=this.customOption?this.config.renderOption(T):S.textContent,V=q.createElement("li",{class:"selectr-option",html:U,role:"treeitem","aria-selected":!1});return V.idx=S.idx,this.items.push(V),(S.selected||S.hasAttribute("selected"))&&K.call(this,V),S.defaultSelected&&this.defaultSelected.push(S.idx),S.disabled&&(V.disabled=!0,q.addClass(V,"disabled")),V},I=function(S){if(S=S||window.event,!this.items.length||!this.opened||!q.includes([13,38,40],S.which))return void(this.navigating=!1);if(q.preventDefault(S),13===S.which)return J.call(this,this.items[this.navIndex]);var T,U=this.items[this.navIndex];switch(S.which){case 38:T=0,0<this.navIndex&&this.navIndex--;break;case 40:T=1,this.navIndex<this.items.length-1&&this.navIndex++;}for(this.navigating=!0;q.hasClass(this.items[this.navIndex],"disabled")||q.hasClass(this.items[this.navIndex],"excluded");)if(T?this.navIndex++:this.navIndex--,this.searching)if(this.navIndex>this.tree.lastElementChild.idx){this.navIndex=this.tree.lastElementChild.idx;break}else if(this.navIndex<this.tree.firstElementChild.idx){this.navIndex=this.tree.firstElementChild.idx;break}var V=q.getRect(this.items[this.navIndex]);T?(0===this.navIndex?this.tree.scrollTop=0:V.top+V.height>this.optsRect.top+this.optsRect.height&&(this.tree.scrollTop+=V.top+V.height-(this.optsRect.top+this.optsRect.height)),this.navIndex===this.tree.childElementCount-1&&this.requiresPagination&&O.call(this)):0===this.navIndex?this.tree.scrollTop=0:0>V.top-this.optsRect.top&&(this.tree.scrollTop+=V.top-this.optsRect.top),U&&q.removeClass(U,"active"),q.addClass(this.items[this.navIndex],"active")},J=function(S){var T=this.options[S.idx];T.disabled||(T.selected&&q.hasClass(S,"selected")?L.call(this,S):K.call(this,S),this.opened&&!this.el.multiple&&this.close())},K=function(S){var T=[].slice.call(this.el.options),U=this.options[S.idx];if(this.el.multiple){if(q.includes(this.selectedIndexes,S.idx))return!1;if(this.config.maxSelections&&this.tags.length===this.config.maxSelections)return this.setMessage("A maximum of "+this.config.maxSelections+" items can be selected.",!0),!1;this.selectedValues.push(U.value),this.selectedIndexes.push(S.idx),M.call(this,S)}else{var V=this.data?this.data[S.idx]:U;this.label.innerHTML=this.customSelected?this.config.renderSelection(V):U.textContent,this.selectedValue=U.value,this.selectedIndex=S.idx,q.each(this.options,function(W,X){var Y=this.items[W];W!==S.idx&&(Y&&q.removeClass(Y,"selected"),X.selected=!1,X.removeAttribute("selected"))},this)}q.includes(T,U)||this.el.add(U),S.setAttribute("aria-selected",!0),q.addClass(S,"selected"),q.addClass(this.container,"has-selected"),U.selected=!0,U.setAttribute("selected",""),this.emit("selectr.select",U),this.emit("selectr.change",U)},L=function(S){var T=this.options[S.idx];if(this.el.multiple){var U=this.selectedIndexes.indexOf(S.idx);this.selectedIndexes.splice(U,1);var V=this.selectedValues.indexOf(T.value);this.selectedValues.splice(V,1),N.call(this,S),this.tags.length||q.removeClass(this.container,"has-selected")}else{if(!this.config.allowDeselect)return!1;this.label.innerHTML="",this.selectedValue=null,this.el.selectedIndex=-1,q.removeClass(this.container,"has-selected")}this.items[S.idx].setAttribute("aria-selected",!1),q.removeClass(this.items[S.idx],"selected"),T.selected=!1,T.removeAttribute("selected"),this.emit("selectr.deselect",T),this.emit("selectr.change",T)},M=function(S){var U,T=this,V=document.createDocumentFragment(),W=this.options[S.idx],X=this.data?this.data[S.idx]:W,Y=this.customSelected?this.config.renderSelection(X):W.textContent,Z=q.createElement("li",{class:"selectr-tag",html:Y}),$=q.createElement("button",{class:"selectr-tag-remove",type:"button"});if(Z.appendChild($),Z.idx=S.idx,Z.tag=W.value,this.tags.push(Z),this.config.sortSelected){var aa=this.tags.slice();U=function(ba,ca){ba.replace(/(\d+)|(\D+)/g,function(da,ea,fa){ca.push([ea||Infinity,fa||""])})},aa.sort(function(ba,ca){var fa,ga,da=[],ea=[];for(!0===T.config.sortSelected?(fa=ba.tag,ga=ca.tag):"text"===T.config.sortSelected&&(fa=ba.textContent,ga=ca.textContent),U(fa,da),U(ga,ea);da.length&&ea.length;){var ha=da.shift(),ia=ea.shift(),ja=ha[0]-ia[0]||ha[1].localeCompare(ia[1]);if(ja)return ja}return da.length-ea.length}),q.each(aa,function(ba,ca){V.appendChild(ca)}),this.label.innerHTML=""}else V.appendChild(Z);this.config.taggable?this.label.insertBefore(V,this.input.parentNode):this.label.appendChild(V)},N=function(S){var T=!1;q.each(this.tags,function(U,V){V.idx===S.idx&&(T=V)},this),T&&(this.label.removeChild(T),this.tags.splice(this.tags.indexOf(T),1))},O=function(){var S=this.tree,T=S.scrollTop,U=S.scrollHeight,V=S.offsetHeight;if(T>=U-V&&this.pageIndex<this.pages.length){var X=document.createDocumentFragment();q.each(this.pages[this.pageIndex],function(Y,Z){B(Z,X,this.customOption)},this),S.appendChild(X),this.pageIndex++,this.emit("selectr.paginate",{items:this.items.length,total:this.data.length,page:this.pageIndex,pages:this.pages.length})}},P=function(){(this.config.searchable||this.config.taggable)&&(this.input.value=null,this.searching=!1,this.searchBegun=!1,this.config.searchable&&q.removeClass(this.inputContainer,"active"),q.hasClass(this.container,"notice")&&(q.removeClass(this.container,"notice"),q.addClass(this.container,"open"),this.input.focus()),q.each(this.items,function(S,T){q.removeClass(T,"excluded"),this.customOption||(T.innerHTML=T.textContent)},this))},Q=function(S,T){var U=new RegExp(S,"i").exec(T.textContent);return!!U&&T.textContent.replace(U[0],"<span class='selectr-match'>"+U[0]+"</span>")},R=function(S,T){if(T=T||{},!S)throw new Error("You must supply either a HTMLSelectElement or a CSS3 selector string.");if(this.el=S,"string"==typeof S&&(this.el=q.querySelect(S)),null===this.el)throw new Error("The element you passed to Selectr can not be found.");if("select"!==this.el.nodeName.toLowerCase())throw new Error("The element you passed to Selectr is not a HTMLSelectElement.");this.render(T)};return R.prototype.render=function(S){if(!this.rendered){this.config=q.extend(m,S),this.originalType=this.el.type,this.originalIndex=this.el.tabIndex,this.defaultSelected=[],this.originalOptionCount=this.el.options.length,(this.config.multiple||this.config.taggable)&&(this.el.multiple=!0),this.disabled=s(this.config,"disabled"),this.opened=!1,this.config.taggable&&(this.config.searchable=!1),this.navigating=!1,this.mobileDevice=!1,/Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent)&&(this.mobileDevice=!0),this.customOption=this.config.hasOwnProperty("renderOption")&&"function"==typeof this.config.renderOption,this.customSelected=this.config.hasOwnProperty("renderSelection")&&"function"==typeof this.config.renderSelection,n.mixin(this),F.call(this),this.update(),this.optsRect=q.getRect(this.tree),this.rendered=!0;var T=this;setTimeout(function(){T.emit("selectr.init")},20)}},R.prototype.destroy=function(){this.rendered&&(this.emit("selectr.destroy"),"select-one"===this.originalType&&(this.el.multiple=!1),this.config.data&&(this.el.innerHTML=""),q.removeClass(this.el,"selectr-hidden"),this.el.form&&q.off(this.el.form,"reset",this.events.reset),q.off(document,"click",this.events.dismiss),q.off(document,"keydown",this.events.navigate),q.off(window,"resize",this.update),q.off(window,"scroll",this.update),this.container.parentNode.replaceChild(this.el,this.container),this.rendered=!1)},R.prototype.setValue=function(S){var T=q.isArray(S);return T||(S=S.toString().trim()),!this.el.multiple&&T?!1:void q.each(this.options,function(U,V){(T&&q.includes(S.toString(),V.value)||V.value===S)&&J.call(this,this.items[V.idx])},this)},R.prototype.getValue=function(S,T){var U;if(this.el.multiple)S?this.selectedIndexes.length&&(U={},U.values=[],q.each(this.selectedIndexes,function(W,X){var Y=this.options[X];U.values[W]={value:Y.value,text:Y.textContent}},this)):U=this.selectedValues.slice();else if(S){var V=this.options[this.selectedIndex];U={value:V.value,text:V.textContent}}else U=this.selectedValue;return S&&T&&(U=JSON.stringify(U)),U},R.prototype.addOption=function(S,T){if(S){if(q.isArray(S))q.each(S,function(X,Y){this.addOption(Y)},this);else if(q.isObject(S)){if(T){var U=!1;if(q.each(this.options,function(X,Y){Y.value.toLowerCase()===S.value.toLowerCase()&&(U=!0)}),U)return!1}var V=q.createElement("option",S);this.data&&this.data.push(S),this.options.push(V),V.idx=this.options.length-1;var W=H.call(this,V);return S.selected&&K.call(this,W),V}return this.setPlaceholder(),this.requiresPagination&&this.paginate(),!0}},R.prototype.search=function(S){if(!this.navigating){S=S||this.input.value;var T=document.createDocumentFragment();if(this.removeMessage(),D.call(this),!(1<S.length))C.call(this);else if(q.each(this.options,function(W,X){var Y=this.items[X.idx],Z=q.includes(X.textContent.toLowerCase(),S.toLowerCase());Z&&!X.disabled?(B(Y,T,this.customOption),q.removeClass(Y,"excluded"),!this.customOption&&(Y.innerHTML=Q(S,X))):q.addClass(Y,"excluded")},this),!T.childElementCount)this.setMessage("no results.");else{var U=this.items[this.navIndex],V=T.firstElementChild;q.removeClass(U,"active"),this.navIndex=V.idx,q.addClass(V,"active")}this.tree.appendChild(T)}},R.prototype.toggle=function(){this.disabled||(this.opened?this.close():this.open())},R.prototype.open=function(){var S=this;return this.opened||this.emit("selectr.open"),this.opened=!0,this.mobileDevice||this.config.nativeDropdown?(q.addClass(this.container,"native-open"),void(this.config.data&&q.each(this.options,function(T,U){this.el.add(U)},this))):void(q.addClass(this.container,"open"),C.call(this),A.call(this),this.tree.scrollTop=0,q.removeClass(this.container,"notice"),this.selected.setAttribute("aria-expanded",!0),this.tree.setAttribute("aria-hidden",!1),this.tree.setAttribute("aria-expanded",!0),this.config.searchable&&!this.config.taggable&&setTimeout(function(){S.input.focus(),S.input.tabIndex=0},10))},R.prototype.close=function(){if(this.opened&&this.emit("selectr.close"),this.opened=!1,this.mobileDevice||this.config.nativeDropdown)return void q.removeClass(this.container,"native-open");var S=q.hasClass(this.container,"notice");this.config.searchable&&!S&&(this.input.blur(),this.input.tabIndex=-1,this.searching=!1),S&&(q.removeClass(this.container,"notice"),this.notice.textContent=""),q.removeClass(this.container,"open"),q.removeClass(this.container,"native-open"),this.selected.setAttribute("aria-expanded",!1),this.tree.setAttribute("aria-hidden",!0),this.tree.setAttribute("aria-expanded",!1),D.call(this),P.call(this)},R.prototype.enable=function(){this.disabled=!1,this.el.disabled=!1,this.selected.tabIndex=this.originalIndex,q.each(this.tags,function(S,T){T.lastElementChild.tabIndex=0}),q.removeClass(this.container,"selectr-disabled")},R.prototype.disable=function(S){S||(this.el.disabled=!0),this.selected.tabIndex=-1,q.each(this.tags,function(T,U){U.lastElementChild.tabIndex=-1}),this.disabled=!0,q.addClass(this.container,"selectr-disabled")},R.prototype.reset=function(){this.disabled||(this.clear(),z.call(this,!0),q.each(this.defaultSelected,function(S,T){K.call(this,this.items[T])},this),this.emit("selectr.reset"))},R.prototype.clear=function(){if(this.el.multiple){var S=this.selectedIndexes.slice();q.each(S,function(T,U){L.call(this,this.items[U])},this)}else L.call(this,this.items[this.el.selectedIndex]);this.emit("selectr.clear")},R.prototype.serialise=function(S){var T=[];return q.each(this.options,function(U,V){var W={value:V.value,text:V.textContent};V.selected&&(W.selected=!0),V.disabled&&(W.disabled=!0),T[U]=W}),S?JSON.stringify(T):T},R.prototype.serialize=function(S){return this.serialise(S)},R.prototype.setPlaceholder=function(S){S=S||this.config.placeholder||this.el.getAttribute("placeholder"),this.options.length||(S="No options available"),this.placeEl.innerHTML=S},R.prototype.paginate=function(){if(this.items.length){var S=this;return this.pages=this.items.map(function(T,U){return 0==U%S.config.pagination?S.items.slice(U,U+S.config.pagination):null}).filter(function(T){return T}),this.pages}},R.prototype.setMessage=function(S,T){T&&this.close(),q.addClass(this.container,"notice"),this.notice.textContent=S},R.prototype.removeMessage=function(){q.removeClass(this.container,"notice"),this.notice.innerHTML=""},R});